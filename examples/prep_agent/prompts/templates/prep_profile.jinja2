{#- System Prompt -#}
{{ system_prompt_text }}

{#- Guidelines -#}
{{ guidelines_text }}

## Task Description
{{ context.query_md }}

## Input Data
Task dir: {{ context.task_dir }}
Inputs: {{ context.inputs | tojson }}

Preview:
```json
{{ context.inputs_preview | tojson(indent=2) }}
```

## Output JSON Format
{
  "summary": "brief description of patterns found or 'No significant dirty data patterns detected'",
  "operations": ["list of cleaning operations - empty if data is clean"],
  "evidence": [{"file":"...", "column":"...", "signals":["..."]}]
}

## Examples
Example 1 - Dirty data:
Input: input_01.csv has "Sign-up Date" (YYYY-MM-DD), "email"; input_02.csv has "Date" (DD.MM.YYYY), "last_name" with case variants.
{
  "summary": "Date parsing and string normalization needed.",
  "operations": ["Parse Sign-up Date as YYYY-MM-DD", "Parse Date as DD.MM.YYYY", "Normalize last_name: lowercase, remove non-letters"],
  "evidence": [
    {"file": "input_01.csv", "column": "Sign-up Date", "signals": ["date format YYYY-MM-DD"]},
    {"file": "input_02.csv", "column": "last_name", "signals": ["case variants"]}
  ]
}

Example 2 - Clean data (common):
Input: All columns properly formatted.
{
  "summary": "No significant dirty data patterns detected.",
  "operations": [],
  "evidence": []
}
